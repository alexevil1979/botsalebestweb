# üîß –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –æ—à–∏–±–∫–∏ –º–∏–≥—Ä–∞—Ü–∏–∏

## ‚ùå –ü—Ä–æ–±–ª–µ–º–∞

–ü—Ä–∏ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–∏ `php migrations/add_preferred_language.php` –≤–æ–∑–Ω–∏–∫–∞–µ—Ç –æ—à–∏–±–∫–∞:
```
‚úó Migration failed: SQLSTATE[42S02]: Base table or view not found: 1146 Table 'telegram_bot.users' doesn't exist
```

## ‚úÖ –†–µ—à–µ–Ω–∏–µ

–¢–∞–±–ª–∏—Ü–∞ `users` –Ω–µ —Å—É—â–µ—Å—Ç–≤—É–µ—Ç, –ø–æ—Ç–æ–º—É —á—Ç–æ –Ω–µ –±—ã–ª–∞ –≤—ã–ø–æ–ª–Ω–µ–Ω–∞ –æ—Å–Ω–æ–≤–Ω–∞—è –º–∏–≥—Ä–∞—Ü–∏—è.

### –®–∞–≥ 1: –í—ã–ø–æ–ª–Ω–∏—Ç–µ –æ—Å–Ω–æ–≤–Ω—É—é –º–∏–≥—Ä–∞—Ü–∏—é

```bash
cd /ssd/www/bots/botsalebestwebstudio
php migrations/migrate.php
```

–≠—Ç–∞ –∫–æ–º–∞–Ω–¥–∞ —Å–æ–∑–¥–∞—Å—Ç –≤—Å–µ –Ω–µ–æ–±—Ö–æ–¥–∏–º—ã–µ —Ç–∞–±–ª–∏—Ü—ã, –≤–∫–ª—é—á–∞—è `users`.

### –®–∞–≥ 2: –í—ã–ø–æ–ª–Ω–∏—Ç–µ –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—É—é –º–∏–≥—Ä–∞—Ü–∏—é

–ü–æ—Å–ª–µ —É—Å–ø–µ—à–Ω–æ–≥–æ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –æ—Å–Ω–æ–≤–Ω–æ–π –º–∏–≥—Ä–∞—Ü–∏–∏:

```bash
php migrations/add_preferred_language.php
```

–≠—Ç–∞ –∫–æ–º–∞–Ω–¥–∞ –¥–æ–±–∞–≤–∏—Ç –∫–æ–ª–æ–Ω–∫—É `preferred_language` –≤ —É–∂–µ —Å—É—â–µ—Å—Ç–≤—É—é—â—É—é —Ç–∞–±–ª–∏—Ü—É `users`.

## üìã –ü—Ä–∞–≤–∏–ª—å–Ω—ã–π –ø–æ—Ä—è–¥–æ–∫ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –º–∏–≥—Ä–∞—Ü–∏–π

**–í–°–ï–ì–î–ê –≤—ã–ø–æ–ª–Ω—è–π—Ç–µ –º–∏–≥—Ä–∞—Ü–∏–∏ –≤ —Ç–∞–∫–æ–º –ø–æ—Ä—è–¥–∫–µ:**

1. **–°–Ω–∞—á–∞–ª–∞:** `php migrations/migrate.php` - —Å–æ–∑–¥–∞–µ—Ç –≤—Å–µ —Ç–∞–±–ª–∏—Ü—ã
2. **–ó–∞—Ç–µ–º:** `php migrations/add_preferred_language.php` - –¥–æ–±–∞–≤–ª—è–µ—Ç –∫–æ–ª–æ–Ω–∫–∏

## üîç –ü—Ä–æ–≤–µ—Ä–∫–∞

–ü–æ—Å–ª–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –º–∏–≥—Ä–∞—Ü–∏–π –ø—Ä–æ–≤–µ—Ä—å—Ç–µ:

```bash
# –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å—É—â–µ—Å—Ç–≤–æ–≤–∞–Ω–∏—è —Ç–∞–±–ª–∏—Ü—ã users
mysql -u root -p telegram_bot -e "SHOW TABLES LIKE 'users';"

# –ü—Ä–æ–≤–µ—Ä–∫–∞ –∫–æ–ª–æ–Ω–∫–∏ preferred_language
mysql -u root -p telegram_bot -e "DESCRIBE users;" | grep preferred_language
```

## üöÄ –ë—ã—Å—Ç—Ä–æ–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ

–ï—Å–ª–∏ –≤—ã —É–∂–µ –ø–æ–ª—É—á–∏–ª–∏ –æ—à–∏–±–∫—É, –≤—ã–ø–æ–ª–Ω–∏—Ç–µ:

```bash
cd /ssd/www/bots/botsalebestwebstudio

# 1. –°–æ–∑–¥–∞–π—Ç–µ –≤—Å–µ —Ç–∞–±–ª–∏—Ü—ã
php migrations/migrate.php

# 2. –î–æ–±–∞–≤—å—Ç–µ –∫–æ–ª–æ–Ω–∫—É preferred_language
php migrations/add_preferred_language.php
```

## üìù –ü—Ä–∏–º–µ—á–∞–Ω–∏–µ

–ú–∏–≥—Ä–∞—Ü–∏—è `add_preferred_language.php` —Ç–µ–ø–µ—Ä—å –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø—Ä–æ–≤–µ—Ä—è–µ—Ç —Å—É—â–µ—Å—Ç–≤–æ–≤–∞–Ω–∏–µ —Ç–∞–±–ª–∏—Ü—ã `users` –ø–µ—Ä–µ–¥ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ–º –∏ –≤—ã–¥–∞—Å—Ç –ø–æ–Ω—è—Ç–Ω–æ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ, –µ—Å–ª–∏ —Ç–∞–±–ª–∏—Ü–∞ –Ω–µ —Å—É—â–µ—Å—Ç–≤—É–µ—Ç.

---

**‚úÖ –ü–æ—Å–ª–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è —ç—Ç–∏—Ö —à–∞–≥–æ–≤ –≤—Å–µ –º–∏–≥—Ä–∞—Ü–∏–∏ –±—É–¥—É—Ç –ø—Ä–∏–º–µ–Ω–µ–Ω—ã –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ!**
